{
  "name": "Set Elevation Pixels",
  "type": "script",
  "scope": "global",
  "author": "nx29hoGineoQv9Bs",
  "img": "icons/svg/wall-direction.svg",
  "command": "if ( !canvas.elevation ) ui.notifications.error(\"Elevated Vision module must be loaded.\");\n\nnew Dialog({\n  title: \"Set Elevation Pixels\",\n  content: `<form>\n  <div class=\"form-group\"> <label>From Elevation</label> <div class=\"form-fields\"> <input type=\"number\" id=\"fromelevation\" value=\"${canvas.elevation.elevationMin}\" step=\"${canvas.elevation.elevationStep}\"> </div> </div>\n  <div class=\"form-group\"> <label>To Elevation</label> <div class=\"form-fields\"> <input type=\"number\" id=\"toelevation\" value=\"${canvas.elevation.elevationMin}\" step=\"${canvas.elevation.elevationStep}\"> </div> </div>\n  <p class=\"notes\">This macro will change the elevation value of every pixel currently equal to the \"from\" elevation value to the \"to\" elevation value in this scene. This cannot be undone.</p>\n  </form>`,\n  buttons: {\n    yes: {\n      icon: `<i class=\"fas fa-arrow-up-right-dots\"></i>`,\n      label: \"Change\",\n      callback: async (html) => {\n        const fromElevation = parseFloat(html[0].querySelector(\"#fromelevation\").value) ?? canvas.elevation.elevationMin;\n        const toElevation = parseFloat(html[0].querySelector(\"#toelevation\").value) ?? fromElevation;\n        \n        \n         canvas.elevation.changePixelElevationValues(fromElevation, toElevation);\n        return ui.notifications.notify(`Changed elevation pixel values from ${fromElevation} to ${toElevation}`);\n      }\n    },\n    \n    no: {\n      icon: \"<i class='fas fa-times'></i>\",\n      label: \"Cancel\"\n    }\n  }\n}).render(true);"
}